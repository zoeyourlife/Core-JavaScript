# 데이터 타입

---

## 데이터 타입의 종류

자바스크립트의 데이터 타입에는 크게 두 가지가 있다.

### 기본형

```javascript
var a = "abc"; // 변수 선언과 할당
a = a + "def";
```

- string, number, null, undefined, boolean, Symbol 등

- 기본형은 불변성을 띤다. 여기서 불변성이란 데이터 할당에 대한 메모리 영역의 변화를 보면 이해할 수 있다.
  위 코드의 1번째 줄에서 메모리의 변수 영역에 변수 a를 빈 공간을 확보하여 할당한다. 데이터 영역에 문자열 'abc'를 저장한다. 변수 영역에서 a라는 식별자를 검색하고 앞서 저장한 문자열의 주소를 확보된 공간에 대입한다. 만약 2번째 줄처럼 이전 값과 같지 않은 문자열로 변경되면 값으로 기존의 'abc'가 바뀌는 것이 아니라 새로운 문자열 'abcdef'를 만들어 그 주소를 변수 a에 저장한다.

**즉, 기본형 데이터 타입은 한 번 만들 값을 바꿀 수 없고, 변경은 새로 만드는 동작을 통해서만 이뤄진다. 가비지 컬렉팅을 당하지 않는 한 영원히 변하지 않는다.**

### 참조형

- Object인 Array, Function, Date, RegExp, Map, WeakMap, Set, WeakSet 등
- 참조형 데이터의 기본적인 성질은 가변값인 경우가 많지만 설정에 따라 변경 불가능한 경우도 있고, 아예 불변값으로 활용하는 방안도 있다.
- 기본형 데이터와의 차이는 **객체의 변수(프로퍼티) 영역이 별도로 존재한다는 점이다.** 객체가 별도로 할애한 영역은 변수 영역일 뿐 '데이터 영역'은 기존의 메모리 공간을 그대로 활용하고 있다(불변값). **그러나 변수에는 다른 값을 얼마든지 대입 할 수 있다.(가변적)**
- 새로운 객체가 만들어진 것이 아니라 기존의 객체 내부의 값만 바뀐 것.

## 불변 객체

- 불변 객체는 값으로 전달받은 객체에 변경을 가하더라도 원본 객체는 변하지 않아야 하는 경우에 필요하다

```javascript
let user1 = {
  name: "eo",
};
let user2 = user1;
user2.name = "ko";
console.log(user1.name, user2.name); // ko ko 변수 user1과 user2는 같은 객체를 바라보고 있다.
```

- 기본형은 주솟값을 복사하는 과정이 한 번만 이뤄지고, 참조형은 한 단계를 거치게 된다는 차이가 있다.
- 참조형 데이터가 '가변값'이라고 설명할 때의 '가변'은 참조형 데이터 자체를 변경할 경우가 아니라 그 내부의 프로퍼티를 변경할 때만 성립한다.

### 얕은 복사

- 얕은 복사는 바로 아래 단계의 값만 복사하는 방법
- 중첩된 객체에서 참조형 데이터가 저장된 프로퍼티를 복사할 때 그 주솟값만 복사한다는 의미이다. **즉, 해당 프로퍼티에 대한 원본과 사본이 모두 동일한 참조형 데이터의 주소를 가리켜** 사본을 바꾸면 원본이 바뀌고, 원본을 바꾸면 사본도 바뀐다.

### 깊은 복사

- 깊은 복사는 내부의 모든 값들을 하나하나 찾아서 전부 복사하는 방법
- 어떤 객체를 복사할 때 객체 내부의 모든 값을 복사해서 완전히 새로운 데이터를 생성한다.
- 즉, 얕은 복사에서 생긴 사본이 바뀌면 원본이 바뀌는 현상이 발생하지 않는다.
- 객체를 복사할 때 객체의 프로퍼티 중에서 그 값이 기본형 데이터일 경우에는 그대로 복사하면 되지만 참조형 데이터는 다시 그 내부의 프로퍼티들을 복사해야 한다.

## undefined와 null

자바스크립트에서 '없음'을 나타내는 값은 undefined와 null 두 가지가 있다.

### undefined

- undefined는 사용자가 명시적으로 지정할 수도 있지만 값이 존재하지 않을 때 자바스크립트 엔진이 자동으로 부여하는 경우

1. 값을 대입하지 않은 변수
2. 객체 내부의 존재하지 않는 프로퍼티에 대한 접근
3. return 문이 없거나 호출되지 않는 함수의 실행 결과

- '비어있는 요소'와 undefined를 할당한 요소는 출력 결과부터 다르다.
- '비어있는 요소'는 순회와 관련된 많은 배열 메서드들의 순회 대상에서 제외된다.
- 값이 지정되지 않은 인덱스는 아직은 존재하지 않는 프로퍼티이다.
- 값으로써 어딘가에 할당된 undefined는 실존하는 데이터인 반면, 자바스크립트 엔진이 반환해주는 undefined는 문자 그래도 값이 없음을 나타낸다.

### null

'비어 있음'을 명시적으로 나타내고 싶을 때 사용

주의할 점

- typeof null은 object이다.(자바스크립트 자체 버그)
